{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nlet LoginComponent = class LoginComponent {\n  constructor(http, router, isConsented = this.getCookie(COOKIE_CONSENT) === '1') {\n    this.http = http;\n    this.router = router;\n    this.loginForm = new FormGroup({\n      UserName: new FormControl(''),\n      Password: new FormControl('')\n    });\n    this.isConsented = false;\n  }\n  onSubmit() {\n    // TODO: Use EventEmitter with form value\n    this.http.post(\"https://localhost:44300/Account\", this.loginForm.value, {\n      withCredentials: true\n    }).subscribe(() => {\n      this.router.navigate(['/']);\n    });\n  }\n  getCookie(name) {\n    let ca = document.cookie.split(';');\n    let caLen = ca.length;\n    let cookieName = `${name}=`;\n    let c;\n    for (let i = 0; i < caLen; i += 1) {\n      c = ca[i].replace(/^\\s+/g, '');\n      if (c.indexOf(cookieName) == 0) {\n        return c.substring(cookieName.length, c.length);\n      }\n    }\n    return '';\n  }\n  deleteCookie(name) {\n    this.setCookie(name, '', -1);\n  }\n  setCookie(name, value, expireDays, path = '') {\n    let d = new Date();\n    d.setTime(d.getTime() + expireDays * 24 * 60 * 60 * 1000);\n    let expires = `expires=${d.toUTCString()}`;\n    let cpath = path ? `; path=${path}` : '';\n    document.cookie = `${name}=${value}; ${expires}${cpath}`;\n  }\n  consent(isConsent, e) {\n    if (!isConsent) {\n      return this.isConsented;\n    } else if (isConsent) {\n      this.setCookie(COOKIE_CONSENT, '1', COOKIE_CONSENT_EXPIRE_DAYS);\n      this.isConsented = true;\n      e.preventDefault();\n    }\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"names":["Component","FormGroup","FormControl","LoginComponent","constructor","http","router","isConsented","getCookie","COOKIE_CONSENT","loginForm","UserName","Password","onSubmit","post","value","withCredentials","subscribe","navigate","name","ca","document","cookie","split","caLen","length","cookieName","c","i","replace","indexOf","substring","deleteCookie","setCookie","expireDays","path","d","Date","setTime","getTime","expires","toUTCString","cpath","consent","isConsent","e","COOKIE_CONSENT_EXPIRE_DAYS","preventDefault","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Angular-Practice-delete\\eAuction.UI\\src\\app\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\nimport { HttpClient } from '@angular/common/http'\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  loginForm = new FormGroup({\n    UserName:new FormControl(''),\n    Password:new FormControl('')\n  });\n  private isConsented: boolean = false;\n\n  constructor(\n    private http:HttpClient,\n    private router:Router,\n    this.isConsented = this.getCookie(COOKIE_CONSENT) === '1';\n  ){};\n\n  onSubmit() {\n    // TODO: Use EventEmitter with form value\n    this.http.post(\"https://localhost:44300/Account\", this.loginForm.value, {withCredentials:true})\n    .subscribe(()=>{this.router.navigate(['/'])});\n  }\n\n  \n\n    \n\n    private getCookie(name: string) {\n        let ca: Array<string> = document.cookie.split(';');\n        let caLen: number = ca.length;\n        let cookieName = `${name}=`;\n        let c: string;\n\n        for (let i: number = 0; i < caLen; i += 1) {\n            c = ca[i].replace(/^\\s+/g, '');\n            if (c.indexOf(cookieName) == 0) {\n                return c.substring(cookieName.length, c.length);\n            }\n        }\n        return '';\n    }\n\n    private deleteCookie(name) {\n        this.setCookie(name, '', -1);\n    }\n\n    private setCookie(name: string, value: string, expireDays: number, path: string = '') {\n        let d:Date = new Date();\n        d.setTime(d.getTime() + expireDays * 24 * 60 * 60 * 1000);\n        let expires:string = `expires=${d.toUTCString()}`;\n        let cpath:string = path ? `; path=${path}` : '';\n        document.cookie = `${name}=${value}; ${expires}${cpath}`;\n    }\n\n    private consent(isConsent: boolean, e: any) {\n        if (!isConsent) {\n            return this.isConsented;\n        } else if (isConsent) {\n            this.setCookie(COOKIE_CONSENT, '1', COOKIE_CONSENT_EXPIRE_DAYS);\n            this.isConsented = true;\n            e.preventDefault();\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}